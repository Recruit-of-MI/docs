---
title: 基于微信小程序的就业招募小程序
author:
  - 冯子豪(1911060118)
  - 李四(1912190319)
description: |
  我们开发了一个基于微信小程序的就业招募小程序，
  它前端采用微信小程序，后端采用Python/Flask，
  实现了职位招募、就业，面试、应聘的功能
---

文档可以使用markdown编写，用[Pandoc](https://pandoc.org/)转成PDF、html或者word等格式。

# 一、项目介绍 [冯子豪、胡振宇]

## 背景

就业帮，是一款HR能够快速发布招聘信息的来招募到所需的人才的招聘软件；更是一款有着众多各色推荐，能为在杭大学生求职者找到满意的工作的软件，是一款发布、招聘于一体的软件。在这里你可以与面试者、应聘者面对面交流，查看各种各样的工作信息。

## 项目需求分析

我们将就业帮的功能分为四个大块，分别是**用户管理、消息聊天、岗位招聘、信息发布**。

**用户管理：**获取微信账号信息的头像、昵称信息和openID作为数据库中的userID。

**消息聊天：**当用户申请工作时，就会在创建应聘者与面试者之间的聊天。应聘者可以在聊天之后选择是否接受应聘者的请求，当面试者做				   出了决定，应聘者也能查看结果。

**岗位招聘：**可以通过多种多样的筛选和搜索来快速找到自己心仪的工作。

**信息发布：**可以发布自己想要招聘的工作来吸引人才。

![](E:\桌面\1911060118冯子豪个人文档\就业帮1.png)

![](E:\桌面\1911060118冯子豪个人文档\就业帮2.png)





## 计划和分工

我们按照前、后端两个大块进行分工。

前端负责人：冯子豪

主要工作：1、前端所有页面设计、实现、优化

​					2、前端所有页面逻辑实现

​					3、所有前后端集成

​					4、系统测试

​					5、前三次PPT、文档的攥写

​					6、视频录制

# 二、界面原型设计 [冯子豪]

**用户管理：**

![](E:\桌面\1911060118冯子豪个人文档\原型设计_用户管理.png)

页面的跳转关系，如图中箭头所示。用户没有登陆时，类似于图1中，头像和名字是默认的，用户授权登录之后就可以快速显示头像和昵称。简历的页面，采用了大量的选择器表单项，可以方便的让用户填写信息。

这样设计没有了传统的登录、注册等页面，使得登录功能变得简洁。同时显示的只有头像和昵称，并且简历需要单独设置，这样使得页面看起来跟为简约，因为就业帮小程序的主要功能点并不在用户的管理。

优点：1.用户不需要额外的注册，没有传统的登录、注册页面。

​			2.简历的填写过程十分方便。

​			3.我的页面外观上简约。

缺点：1.色彩和布局比较单调和空旷。

实现难度上来讲，并不算困难。

**消息聊天：**    

![](E:\桌面\1911060118冯子豪个人文档\原型设计_聊天消息1.png)

![](E:\桌面\1911060118冯子豪个人文档\原型设计_聊天消息2.png)



页面的跳转关系，如图中箭头所示。消息列表分为两个标签页，消息和面试，选中会加大加粗，并添加下划线，两个标签页显示不同的内容。这部分之所以使用了多个不同的页面，是因为消息聊天是我们小程序的重点之一，再找到心仪的工作之后，需要进行聊天、是否接受等一系列的后续操作来保证申请工作的一个完整的流程。所以设计了许多界面来满足这部分的功能。这样设计也在于条理清晰，方便用户的操作。不同的用户关注也不同，如应聘者可能更关注薪资，所以在已投递中显示工资等有关的信息。

优点：1.页面数量多，但条理清晰，用户有更好的体验。

​			2.同一页面通过标签页进行复用，方便即是发布者、申请者的使用。

​			3.过程清晰明了，使得整个过程，第一次使用的人也能快速上手。

缺点：1.页面比较简单，以白色背景为主。

​			2.没有列表等数据时没有提示。

因为页面数量较多，增加了一定的工作量，也增加了后续集成的难度。

**岗位招聘**：

![](E:\桌面\1911060118冯子豪个人文档\原型设计_岗位招聘1.png)

![](E:\桌面\1911060118冯子豪个人文档\原型设计_岗位招聘2.png)

页面的跳转关系，如图中箭头所示之外，还有许多的跳转由于类似就没有全部列举，大部分都是查询的跳转。

主页多个查询，都有对应相关联的图标，或者相应的文字说明，符合主题，采用滑动来查看多个工作，能够保持高度，提高美观程度，工作有不同的标签，和尽可能详细的信息，来提高用户体验。位置页面的设计由于我们限定再杭州地区，于是选择直观的点击选择。搜索页面设计了历史搜索等都是采用气泡包裹的方式，这样显得每条搜索记录独立，美观。工作详情页面有着充分的信息，且标注明确，可以让用户一目了然的了解工作信息。历史和收藏功能的实现，若收藏了这个工作，当你点击进入时会点亮工作详情页面的五角星，直观，足迹的加入，也能方便用户第一时间重新找到感兴趣的工作。

优点：1.不同类型的查询有不同的相应图标或文字说明。

​			2.气泡包裹文字的形式，美观、独立，且便于用户选择。

​			3.工作详情，信息明确，充足。

​			4.收藏的小星星亮灭使得用户有交互感。

缺点：1.用户感觉重复感高，因为多个查询页面样式一致。

工作量大，为后续的集成带来了更多的工作量。

**信息发布**：

![](E:\桌面\1911060118冯子豪个人文档\原型设计_信息发布.png)

主要采用了大量的表单项来完成这个页面的设计。

优点：1.用户可以一次性填写完成。

缺点：1.填写信息过多。

​			2.信息要求的格式可能不统一。

这部分工作量较小。



# 三、系统架构设计 [冯子豪、胡振宇]

![](E:\桌面\1911060118冯子豪个人文档\前端架构.png)

### 前端系统架构

**UI库、组件库/前端架构**：

1、UI图标库(iconfont)：为我的小程序提供了所有的UI图标。

作用：利用wxss代码来远程调用图标库，因为小程序对于程序的大小比较敏感，所以在设计时能不适用本地图片或者ui时尽量不适用，这样的好处在于，不用将图标下载到本地，节省小程序的体积。

缺点：UI图标依赖于一个库，可能会出现想要的图标没有的情况。



2、组件库(vant-weapp)：为我的小程序部分页面提高了现成的组件，主要是一些表单项和选择器。

作用：可以利用组件库，方便的快速的实现某些我需要的功能，比如一个输入框或者一个搜索框等等，提高了页面制作的速度。

缺点：功能比较死板，组件的颜值也不算高，而且小程序版本过新会导致显示失败。



3.原生小程序框架：小程序页面制作的主要框架。

作用：页面的制作，功能的实现等

缺点：实现不如组件库简单、快速。

**语言**：

1、JavaScript：前端逻辑的编写语言。

作用：实现小程序的各种各样的功能，调试任务。



2、wxss、wxml：前端页面的设计文件。

作用：让小程序的页面变得美观，配合JS实现各种各样的功能。

**模拟数据：**

1、APIFox：前期利用APIFox的MOCK功能来模拟数据，以便可以及时的进行前后端的集成工作。后期后端搭建完成之后，也能切换正式环境，来方便的完成集成、测试等一系列的工作。

作用：前期提高模拟的数据，能够不依赖于后端的进度来完成集成，后期能够快速切换正式环境，来完成集成。

**代码管理：**

1、github：代码的管理，文档、ppt的上传等。

作用：能够管理代码，以防代码丢失。



### 模块功能及实现

前端按功能分为四个模块：**用户管理、聊天消息、岗位招聘、信息发布**。

![](E:\桌面\1911060118冯子豪个人文档\模块的联系.png)

这是四者之间的联系图。只有在用户登录之后，才能进行申请，聊天，查看投递状态等一系列信息。未登录状态只能看看工作。



**用户管理：**

就业帮小程序是不需要用户注册信息的，因为是微信小程序，每个用户都有微信账号，可以利用已有的微信账号进行授权登录，省去了注册账号的麻烦，并且后续也不会有忘记密码等的烦恼。

优点：1.用户不需要额外的注册，也体现了小程序随时随用的便捷之处。

​            2.微信用户的唯一标识符openID可用来作为userID。

缺点：1.授权获得的用户信息对于本小程序来说不全，需要额外的简历来补充所需的信息。

​			2.依赖于用户的微信，如果微信账号更换，之前的信息无法替换。

实现方式：采用了原生小程序框架和UI图标库来完成页面和功能的实现。

**聊天消息**：

就业帮小程序的聊天消息模块又可以分为两个模块，一个是投递模块，另一个是发布模块。用户再看到自己心仪的工作之后，可以发起聊天，这时应聘者会在消息标签下出现工作发布者的聊天列表，同时，发布者会在面试标签下出现应聘者的聊天列表，之后便可以进行聊天，探讨工作的细节。如果应聘者有意这份工作可以申请工作，这时，应聘者可以通过已投递按钮进入查看自己的已投递的工作目前的状态，同时，发布者也可以通过已发布按钮进行查看自己发布的工作有几人应聘，并选择是否接受或拒绝。在这一系列的操作之后，一次工作面试就算结束了。之所以这样设计，是为了找工作和招工作可以在一个app下实现，而且条理会比较的清晰，不管是找工作还是招人都有良好的体验。虽然增加了一些实现的难度，但是我认为还是有必要的。

优点：1.既可以招募，又可以找工作。

​			2.条理清晰，方便申请者观察之后的工作申请情况，也方便发布者了解申请者的情况，及时的作出决定。

缺点：1.过程可能对一些用户来说比较繁琐。

实现方式：采用了原生小程序框架和UI图标库来完成页面和功能的实现。

**岗位招聘：**

首先提供了多达十几种已有的查询工作的不同分类，方便用户快速找到心仪的工作，当然也提供搜索功能，通过关键字搜索，能够准确的找到工作。工作详情页面能够给求职者有一个充分工作细节的机会，了解职位的福利、要求等等有用的信息，以便在面试时能够有所准备。收藏和足迹功能也能为求职者在茫茫工作，不错过心仪的工作。之所以这样设计都是为了提供用户的体验感。

优点：1.提供多种分类工作查询模式，快速找到心仪的工作。

​			2.收藏、足迹功能便于再次找到心仪的工作。

缺点：1.工作查询模式的选择，没有进行市场调查，可能仍不满足客户的要求。

实现方式：采用了原生小程序框架和UI图标库和组件库来完成页面和功能的实现。

**信息发布：**

在这里，发布者可以直接填写相关的信息，来发布自己所要招募的工作。这部分的功能，因为难度不高，所以展现的结果有待提升。

优点：1.用户可以快速的发布工作招募。

缺点：1.填写信息过多。

​			2.信息要求的格式可能不统一。

实现方式：采用了原生小程序框架和UI图标库和组件库来完成页面和功能的实现。

# 四、API设计 [张三、李四]

这部分主要是API的设计，分模块进行介绍，并通过APIfox介绍API的设计理念，使用、测试方法等。用列表和文档对所有的API进行详细的列举和描述。

# 五、数据库设计 [李四]

这部分主要是数据库方面的设计。

首先，详细描述自己系统中需要持久化的数据以及需要缓存的数据等，根据数据的特点确定自己的数据库方案（采用什么数据库及其原因）。

其次，结合ER图、列表等对自己的数据库中的数据进行详细描述，都有哪些表，保存了哪些数据，为什么要这么设计。

最后，详细描述所使用的数据库相关技术，比如ORM、工具以及具体的使用方式。

# 六、微信小程序端的实现 [冯子豪]

我将就业帮的前端分为四大模块，分别是**用户管理、消息聊天、岗位招聘、信息发布**，分别来描述具体的实现。

### **用户管理**

![](E:\桌面\1911060118冯子豪个人文档\用户管理_具体实现.png)

这块的页面静态搭建只需按照原型设计来设计就行，没有什么特别的地方。简历页面利用到了vant-weapp的表单项和选择器。

#### 登录

这里分为两个部分，一部分是获取用户的基本信息(不包括唯一标识符openID)，另一部分是获取唯一标识符openID。

第一部分：通过调用wx官方的api接口wx.getUserProfile()即可顺利获得用户的基本的微信信息(头像、城市、性别、语言、昵称、省份信息)。

第二部分：由于是唯一标识符，获取的难度要大于基本的信息，需要 官方api接口wx.login()，配合appID和secret(需去微信公众平台获取)，就可以获取到用户的openID了。

#### 个人信息上传

这里的个人信息分为两个部分，一个是微信的基本信息，另一个是简历的基本信息。

两部分的信息，我都通过wx.setStorageSync()进行了本地的存储，并且通过接口POST上传用户信息和简历信息，来完成本地和云端的双存储。

#### **微信图片路径的获取**

 利用wx.chooseImage()设置完参数后，选择图片后，通过res.tempFilePaths[0]来获取图片的路径。



### 消息聊天

![](E:\桌面\1911060118冯子豪个人文档\聊天消息_具体实现.png)

消息列表我利用标签消息和面试，通过点击来展示两方面的信息。通过在wxml文件中设置wx:if‘’{{条件}}‘’来实现页面的多用和点击之后样式的变化。聊天页面的设计参考了《参考文献》中的‘’聊天页面‘’。其他页面的设计都没有什么难点。

#### 消息

分为消息和面试两个板块。其中消息板块是面对应聘者创建的，而面试板块是面对发布者创建的。你申请的工作，聊天列表会出现在消息页，而对方会出现在面试页。且每发送一条新的消息，列表会更新，来显示最后一条消息。这里利用了两个后端接口请求 ，一个是获取应聘列表信息，另一个是获取面试列表信息。

#### 已投递|已发布详情

应聘者看了工作详情或者聊了之后若是满意这份工作可以，点击申请，发送POST请求，这时应聘者会在已投递页面中出现一条投递信息，包括工作的信息和投递状态(待录取、成功、失败)三个状态。同时在这份工作的发布者的已发布详情中会出现应聘者的姓名等信息，并有三个选项(聊天、拒绝、接受)。发布者选择一个同意或者拒绝，发送相应的POST请求，应聘者可以在已投递的状态中查看到。

   例如：这是上传投递信息的一个接口的主要部分。

await upload('/recruit/createDelivered',{jobID:jobList.job.jobID,userID:openId,userName:userInfo.nickName})

#### 已投递详情

可以快速查看该工作的详情，并进入聊天页面。

#### 聊天

通过页面跳转来转递对方的userID，例如：

wx.navigateTo({

​     url: '/pages/jobChat/jobChat?otherID=' + otherID

​    })，

通过聊天记录列表的speak属性(为说话者的ID)，通过在wx:if"{{speak==ID}}"来实现这段消息出现在左边还是右边，来呈现出不同的气泡颜色等的效果。通过contentType:'text|image'来区分是否是图片，若是图片显示图片，并提供showPic: function (event)功能来预览图片。并且在发送一条消息的同时，不仅POST聊天记录，也同时POST面试和应聘列表完成最后一条消息的更新。



### 岗位招聘

![](E:\桌面\1911060118冯子豪个人文档\岗位招聘_具体实现.png)

岗位招聘包含十几个类似的页面，通过不同的接口请求来区分不同的页面，但页面的样式是一致的，这部分的制作工作量较大。

#### 区域的选择

通过选择已有的杭州地区，如西湖区、拱墅区等，点击相应的区，会调用wx.setStorageSync()进行本地存储，通过wx.reLaunch()来跳转到职位页。并调用相关接口显示该地区的工作。

#### 搜索

包括了历史搜索，历史搜索通过点击搜索之后，将输入框的内容存储通过

if(historyList.length>7){

​     if(value.length>0){

​      if(historyList.indexOf(value) !== -1){

​       historyList.splice(historyList.indexOf(value), 1)

​      }

​      historyList.splice(7,1)

​      historyList.unshift(value)

​      this.setData({

​        historyList

​      })

​      wx.setStorageSync('searchHistory', historyList)

​     }在本地的历史记录列表searchHistory中，且最多只能存储8条消息，并且若该内容列表已有，且不是在第一个，会将这条记录放到第一。

热门搜索，是我人工设置的静态的数据。

点击搜索，通过页面传递搜索关键词，

wx.navigateTo({

​     url: '/pages/PositionAbout/searchDetail/searchDetail?jobKeyWord=' + value

​    })

调用接口来获取相关的搜索结果。

#### 推荐工作

通过多种多样的接口来获取多种多样的工作列表，来显示。例如：

// 获取附近急招——接口

  async getJobList(){

   let place = wx.getStorageSync('currentPlace')

​    let jobList = await request('/recruit/getHotJob',{region:place})

​    this.setData({

​     jobList: jobList

​    })

   },

来获取你所选的地区的工作。

#### 工作详情

这部分显示了多种多样的工作的各种信息，只需将页面搭建好，将获取到的工作信息动态显示。

#### 收藏

点击工作详情中五角星，即可点亮，并且调用POST收藏接口完成收藏，可在后面我的收藏中查看。

  async collect(){

   let openId = wx.getStorageSync('openId')

   let jobList = this.data.jobDetailList

   await upload('/recruit/createCollect',{userID:openId,jobID:jobList.job.jobID})

  },

足迹类似。

#### 足迹

每次进入一个工作详情就调用POST足迹接口来完成足迹的记录，可在后面我的足迹中查看。



### 信息发布

![](E:\桌面\1911060118冯子豪个人文档\信息发布_具体实现.png)

页面设计主要利用大量的vant-weapp表单项

发布信息：

主要通过获取相应的表单项的内容，通过调用接口：

  await upload('/recruit/createJob',{recruitPosition:value_position,jobTitle:value_title,maxWages:value_highsalary,minWages:value_lowsalary,region:value_region,specificLocation:value_place,corporateName:value_corporateName,minEducation:value_education,mode:value_mode,userID:openId,publisherName:userInfo.nickName,publisherAvatarUrl:userInfo.avatarUrl,jobDescription:value_description,recruitNum:value_number,welfare1:value_welfare1,welfare2:value_welfare2,welfare3:value_welfare3,welfare4:value_welfare4,welfare5:value_welfare5,label1:value_label1,label2:value_label2,label3:value_label3})

很繁琐，将信息上传至云端。


# 七、点名后端的实现[李四]

这部分也是分模块来展示后端的实现方案。具体参见前面第六部分。

# 八、系统测试

这部分主要讲系统的测试方案，不要简单贴图，要写出具体的自动测试方案。可以前后端分开来写。

## 8.1 单元测试

这部分是单元测试的方案，可以列表统计有多少测试，覆盖率是多少。

## 8.2 集成测试

## 8.3 测试部署及结果

这部分可以先如何部署到GitHub或其它系统，如何在开发时利用测试来保证正确率的，测试结果如何。


# 九、系统部署 [王五]

这部分主要写系统的部署方案，采用了什么样的部署方案（docker？虚拟机？云平台？），有没有自动部署等方案以及具体的步骤和使用方法。

# 十、功能展示 [冯子豪、胡振宇]

基本的功能展示，可以用视频来展示。如果贴图，请尽量将相同模块的图拼接在一起以减少空间占用。

# 十一、清单 [冯子豪、胡振宇]

- 前端代码: docs/recruit
- 后端代码: class_backend
- 原型设计文件: docs/design/前端设计
- 项目演示视频: docs/videos
- 第一次演示：docs/design/第一次演示ppt，文档/演示ppt.pptx
- 项目成员分工：docs\design\第一次演示ppt，文档/项目的具体功能及成员分工.md
- 中期验收：docs/design/中期演示ppt，文档/中期设计.pptx
- 中期验收演示视频：docs/design/中期演示ppt，文档/演示视频.mp4
- 系统测试验收：docs/design/第三次演示_系统测试
- 最终验收：docs/design/成果演示/演示.pptx

# 十二、总结 [冯子豪、胡振宇]

项目的总结，整个项目的感受以及下一步的计划。

# 十二、参考文献 [冯子豪、胡振宇]

系统前端所参考的文献或者代码，比如：

- 聊天页面: https://blog.csdn.net/Crazydoubao/article/details/124828635
- vant-weapp: https://vant-contrib.gitee.io/vant-weapp/#/home
- iconfont：https://iconfont.cn/manage/index
